{
  "openapi": "3.0.0",
  "info": {
    "title": "Library Management App",
    "description": "Api para gestão de bibliotecas.",
    "version": "2.0.0"
  },
  "servers": [
    {
      "url": "http://localhost:5000",
      "description": "Servidor principal para desenvolvimento."
    }
  ],
  "paths": {
    "/staff/register": {
      "post": {
        "summary": "Registrar novo Staff User",
        "description": "Registrar um novo Staff User no aplicativo.",
        "tags": ["Staff"],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "description": "Campos para registrar um novo Staff User",
          "required": "true",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#components/schemas/RegisterStaffRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Membro da equipe registrado com sucesso!",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#components/schemas/RegisterStaffResponse"
                }
              }
            }
          },
          "422": {
            "description": "Erro ao registrar membro da equipe"
          }
        }
      }
    },
    "/staff/login": {
      "post": {
        "summary": "Entrar no aplicativo.",
        "description": "Entrar no aplicativo como Staff User.",
        "tags": ["Staff"],
        "requestBody": {
          "description": "Campos para entrar no aplicativo.",
          "required": "true",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#components/schemas/LoginStaffRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Usuário entrou com sucesso!",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#components/schemas/LoginStaffResponse"
                }
              }
            }
          },
          "422": {
            "description": "Erro ao entrar no software!"
          }
        }
      }
    },
    "/staff/viewstaffs": {
      "get": {
        "summary": "Ver todos os Staffs.",
        "description": "Ver todos os Staffs cadastrados.",
        "tags": ["Staff"],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "Membros da equipe encontrados com sucesso!",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#components/schemas/ViewStaffsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Erro ao buscar pelos membros da equipe. Tente novamente mais tarde!"
          }
        }
      }
    },
    "/staff/detail/{userid}": {
      "get": {
        "summary": "Mostrar todas as informações de um usuário.",
        "description": "Mostrar detalhes de um usuário.",
        "tags": ["Staff"],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "userid",
            "in": "path",
            "required": true,
            "description": "ID do usuário a ser exibido.",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Membro da equipe encontrado com sucesso!",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#components/schemas/DetailStaffResponse"
                }
              }
            }
          },
          "422": {
            "description": "Erro ao buscar pelo usuário!"
          }
        }
      }
    },
    "/staff/edit/{userid}": {
      "patch": {
        "summary": "Editar dados de um Staff User.",
        "description": "Editar dados de um usuário pelo id.",
        "tags": ["Staff"],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "userid",
            "in": "path",
            "required": true,
            "description": "ID do usuário.",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "Campos opicionais para editar um Staff User",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#components/schemas/EditStaffRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Membro da equipe registrado com sucesso!",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#components/schemas/EditStaffResponse"
                }
              }
            }
          },
          "422": {
            "description": "Erro ao registrar membro da equipe"
          }
        }
      }
    },
    "/staff/changepassword/{userid}": {
      "patch": {
        "summary": "Alterar a senha de um Staff User.",
        "description": "Alterar a senha de um usuário pelo id.",
        "tags": ["Staff"],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "userid",
            "in": "path",
            "required": true,
            "description": "ID do usuário.",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "Campos para para alterar a senha de um Staff User",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#components/schemas/ChangeStaffPasswordRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Senha alterada com sucesso!",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#components/schemas/ChangeStaffPasswordResponse"
                }
              }
            }
          },
          "422": {
            "description": "Erro ao registrar membro da equipe"
          }
        }
      }
    },
    "/staff/delete/{userid}": {
      "delete": {
        "summary": "Deletar um Staff User.",
        "description": "Deletar um usuário pelo id.",
        "tags": ["Staff"],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "userid",
            "in": "path",
            "required": true,
            "description": "ID do usuário.",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Usuário deletado com sucesso!",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#components/schemas/DeleteStaffResponse"
                }
              }
            }
          },
          "422": {
            "description": "Erro ao deletar membro da equipe"
          }
        }
      }
    },
    "/mbrclassifydm/register": {
      "post": {
        "summary": "Registrar novo tipo de usuário",
        "description": "Registrar um novo tipo de usuário no aplicativo.",
        "tags": ["Member_Classify_DM"],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "description": "Campos para registrar um novo tipo de usuário",
          "required": "true",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#components/schemas/RegisterMbrClassifyRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Membro da equipe registrado com sucesso!",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#components/schemas/RegisterMbrClassifyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Erro ao registrar membro da equipe"
          }
        }
      }
    },
    "/mbrclassifydm/viewall": {
      "get": {
        "summary": "Ver todos os tipos de usuários.",
        "description": "Ver todos os tipos de usuários cadastrados.",
        "tags": ["Member_Classify_DM"],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "Tipos de usuários encontrados com sucesso!",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#components/schemas/ViewClassifyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Erro ao buscar por tipos de membros"
          }
        }
      }
    },
    "/mbrclassifydm/detail/{code}": {
      "get": {
        "summary": "Mostrar todas as informações de um tipo de usuário.",
        "description": "Mostrar detalhes de um tipo de usuário.",
        "tags": ["Member_Classify_DM"],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "code",
            "in": "path",
            "required": true,
            "description": "ID do tipo de usuário a ser exibido.",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "tipo de usuário da equipe encontrado com sucesso!",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#components/schemas/DetailClassifyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Erro ao buscar pelo tipo de usuário!"
          }
        }
      }
    },
    "/mbrclassifydm/edit/{code}": {
      "patch": {
        "summary": "Editar dados de um tipo de usuário.",
        "description": "Editar dados de um tipo de usuário pelo id.",
        "tags": ["Member_Classify_DM"],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "code",
            "in": "path",
            "required": true,
            "description": "ID do tipo de usuário.",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "description": "Campos opicionais para editar um tipo de membro",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#components/schemas/EditMbrClassifyRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Tipo de membro da equipe atualizado com sucesso!",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#components/schemas/EditMbrClassifyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Erro ao atualizar um tipo de membro da equipe"
          }
        }
      }
    },
    "/mbrclassifydm/delete/{code}": {
      "delete": {
        "summary": "Deletar um tipo de usuário.",
        "description": "Deletar um tipo de usuário pelo code.",
        "tags": ["Member_Classify_DM"],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "code",
            "in": "path",
            "required": true,
            "description": "ID do tipo de usuário.",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Tipo de usuário deletado com sucesso!",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#components/schemas/DeleteCategoryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Erro ao deletar tipo usuário"
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "RegisterStaffRequest": {
        "type": "object",
        "properties": {
          "firstName": {
            "type": "string",
            "example": "admin"
          },
          "lastName": {
            "type": "string",
            "example": "admin"
          },
          "username": {
            "type": "string",
            "example": "admin"
          },
          "password": {
            "type": "string"
          },
          "confirmPassword": {
            "type": "string"
          },
          "admin_flg": {
            "type": "boolean",
            "example": true
          },
          "circ_flg": {
            "type": "boolean",
            "example": true
          },
          "circ_mbr_flg": {
            "type": "boolean",
            "example": true
          },
          "catalog_flg": {
            "type": "boolean",
            "example": true
          },
          "reports_flg": {
            "type": "boolean",
            "example": true
          }
        }
      },
      "RegisterStaffResponse": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "example": "success"
          },
          "message": {
            "type": "string",
            "example": "Membro da equipe registrado com sucesso!"
          },
          "registeredStaff": {
            "type": "object",
            "properties": {
              "userid": {
                "type": "number",
                "example": 1
              },
              "firstName": {
                "type": "string",
                "example": "admin"
              },
              "lastName": {
                "type": "string",
                "example": "admin"
              },
              "username": {
                "type": "string",
                "example": "admin"
              },
              "admin_flg": {
                "type": "boolean",
                "example": true
              },
              "circ_flg": {
                "type": "boolean",
                "example": true
              },
              "circ_mbr_flg": {
                "type": "boolean",
                "example": true
              },
              "catalog_flg": {
                "type": "boolean",
                "example": true
              },
              "reports_flg": {
                "type": "boolean",
                "example": true
              },
              "suspended_flg": {
                "type": "boolean",
                "example": false
              }
            }
          }
        }
      },
      "LoginStaffRequest": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string",
            "example": "admin"
          },
          "password": {
            "type": "string"
          }
        }
      },
      "LoginStaffResponse": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "example": "success"
          },
          "message": {
            "type": "string",
            "example": "Usuário entrou com sucesso!"
          },
          "staffLogged": {
            "type": "object",
            "properties": {
              "userid": {
                "type": "number",
                "example": 1
              },
              "admin_flg": {
                "type": "boolean",
                "example": true
              },
              "token": {
                "type": "string"
              }
            }
          }
        }
      },
      "ViewStaffsResponse": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "example": "success"
          },
          "message": {
            "type": "string",
            "example": "Membros da equipe encontrados com sucesso!"
          },
          "staffs": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "userid": {
                  "type": "number",
                  "example": 1
                },
                "firstName": {
                  "type": "string",
                  "example": "admin"
                },
                "lastName": {
                  "type": "string",
                  "example": "admin"
                },
                "username": {
                  "type": "string",
                  "example": "admin"
                },
                "admin_flg": {
                  "type": "boolean",
                  "example": true
                },
                "circ_flg": {
                  "type": "boolean",
                  "example": true
                },
                "circ_mbr_flg": {
                  "type": "boolean",
                  "example": true
                },
                "catalog_flg": {
                  "type": "boolean",
                  "example": true
                },
                "reports_flg": {
                  "type": "boolean",
                  "example": true
                },
                "suspended_flg": {
                  "type": "boolean",
                  "example": false
                }
              }
            }
          }
        }
      },
      "DetailStaffResponse": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "example": "success"
          },
          "message": {
            "type": "string",
            "example": "Membro da equipe encontrado com sucesso!"
          },
          "staff": {
            "type": "object",
            "properties": {
              "firstName": {
                "type": "string",
                "example": "admin"
              },
              "lastName": {
                "type": "string",
                "example": "admin"
              },
              "username": {
                "type": "string",
                "example": "admin"
              },
              "admin_flg": {
                "type": "boolean",
                "example": true
              },
              "circ_flg": {
                "type": "boolean",
                "example": true
              },
              "circ_mbr_flg": {
                "type": "boolean",
                "example": true
              },
              "catalog_flg": {
                "type": "boolean",
                "example": true
              },
              "reports_flg": {
                "type": "boolean",
                "example": true
              },
              "suspended_flg": {
                "type": "boolean",
                "example": false
              }
            }
          }
        }
      },
      "EditStaffRequest": {
        "type": "object",
        "properties": {
          "firstName": {
            "type": "string",
            "example": "admin"
          },
          "lastName": {
            "type": "string",
            "example": "admin"
          },
          "username": {
            "type": "string",
            "example": "admin"
          },
          "suspended_flg": {
            "type": "boolean",
            "example": false
          },
          "admin_flg": {
            "type": "boolean",
            "example": true
          },
          "circ_flg": {
            "type": "boolean",
            "example": true
          },
          "circ_mbr_flg": {
            "type": "boolean",
            "example": true
          },
          "catalog_flg": {
            "type": "boolean",
            "example": true
          },
          "reports_flg": {
            "type": "boolean",
            "example": true
          }
        }
      },
      "EditStaffResponse": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "example": "success"
          },
          "message": {
            "type": "string",
            "example": "Membro da equipe atualizado com sucesso!"
          },
          "editedStaff": {
            "type": "object",
            "properties": {
              "userid": {
                "type": "number",
                "example": 1
              },
              "firstName": {
                "type": "string",
                "example": "admin"
              },
              "lastName": {
                "type": "string",
                "example": "admin"
              },
              "username": {
                "type": "string",
                "example": "admin"
              },
              "admin_flg": {
                "type": "boolean",
                "example": true
              },
              "circ_flg": {
                "type": "boolean",
                "example": true
              },
              "circ_mbr_flg": {
                "type": "boolean",
                "example": true
              },
              "catalog_flg": {
                "type": "boolean",
                "example": true
              },
              "reports_flg": {
                "type": "boolean",
                "example": true
              },
              "suspended_flg": {
                "type": "boolean",
                "example": false
              }
            }
          }
        }
      },
      "ChangeStaffPasswordRequest": {
        "type": "object",
        "properties": {
          "password": {
            "type": "string"
          },
          "confirmPassword": {
            "type": "string"
          }
        }
      },
      "ChangeStaffPasswordResponse": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "example": "success"
          },
          "message": {
            "type": "string",
            "example": "Senha alterada com sucesso!"
          }
        }
      },
      "DeleteStaffResponse": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "example": "success"
          },
          "message": {
            "type": "string",
            "example": "Membro da equipe deletado com sucesso!"
          }
        }
      },
      "RegisterMbrClassifyRequest": {
        "type": "object",
        "properties": {
          "description": {
            "type": "string",
            "example": "Professor"
          },
          "max_fines": {
            "type": "number",
            "example": 0
          }
        }
      },
      "RegisterMbrClassifyResponse": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "example": "success"
          },
          "message": {
            "type": "string",
            "example": "Tipo de membro registrado com sucesso!"
          },
          "registeredClassify": {
            "type": "object",
            "properties": {
              "code": {
                "type": "number",
                "example": 1
              },
              "description": {
                "type": "string",
                "example": "Professor"
              },
              "default_flg": {
                "type": "boolean",
                "example": false
              },
              "max_fines": {
                "type": "number",
                "example": 0
              }
            }
          }
        }
      },
      "ViewClassifyResponse": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "example": "success"
          },
          "message": {
            "type": "string",
            "example": "Tipos de membros da equipe encontrados com sucesso!"
          },
          "classifies": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "number",
                  "example": 1
                },
                "description": {
                  "type": "string",
                  "example": "Professor"
                },
                "default_flg": {
                  "type": "boolean",
                  "example": false
                },
                "max_fines": {
                  "type": "number",
                  "example": 0
                }
              }
            }
          }
        }
      },
      "DetailClassifyResponse": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "example": "success"
          },
          "message": {
            "type": "string",
            "example": "Tipo de membro da equipe encontrado com sucesso!"
          },
          "classify": {
            "type": "object",
            "properties": {
              "code": {
                "type": "number",
                "example": 1
              },
              "description": {
                "type": "string",
                "example": "Professor"
              },
              "default_flg": {
                "type": "boolean",
                "example": false
              },
              "max_fines": {
                "type": "number",
                "example": 0
              }
            }
          }
        }
      },
      "EditMbrClassifyRequest": {
        "type": "object",
        "properties": {
          "description": {
            "type": "string",
            "example": "Professor"
          },
          "max_fines": {
            "type": "number",
            "example": 0
          }
        }
      },
      "EditMbrClassifyResponse": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "example": "success"
          },
          "message": {
            "type": "string",
            "example": "Tipo de membro da equipe atualizado com sucesso!"
          },
          "editedClassify": {
            "type": "object",
            "properties": {
              "code": {
                "type": "number",
                "example": 1
              },
              "description": {
                "type": "string",
                "example": "Professor"
              },
              "default_flg": {
                "type": "boolean",
                "example": false
              },
              "max_fines": {
                "type": "number",
                "example": 0
              }
            }
          }
        }
      },
      "DeleteCategoryResponse": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "example": "success"
          },
          "message": {
            "type": "string",
            "example": "Tipo de usuário deletado com sucesso!"
          }
        }
      }
    }
  }
}
